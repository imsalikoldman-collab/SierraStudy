# Спецификация текстовой таблицы плана

*Версия:* 1.0  
*Дата:* 2025‑10‑29  

Документ описывает формат многострочного текста, который отображается в верхнем левом углу чарта для наглядного представления данных плана.

## Общие правила

- Таблица формируется функцией `sierra::core::FormatPlanAsTable`.
- Все значения форматируются с точностью до двух знаков после запятой и используют `.` в качестве десятичного разделителя.
- Блоки для разных тикеров отделяются пустой строкой.

## Структура блока

Каждый блок состоит из следующих строк:

1. `Plan version: <string>` — версия спецификации (из поля `plan.version`).
2. `Generated at: <datetime>` — ISO‑8601 отметка времени (`plan.generated_at_iso8601`).
3. `Ticker: <symbol>` — тикер инструмента.
4. Строки зон (для каждого элемента `zones[]`):
   - `  Zone <index> <direction> <range_low>-<range_high> | SL <sl> | TP1 <tp1> | TP2 <tp2>`
   - При наличии `invalid` добавляется строка `    Invalid: <invalid_low>-<invalid_high>`.
5. Строка flip‑зоны (если задана):
   - `  Flip: <flip_low>-<flip_high>`

Если у тикера нет ни зон, ни flip, выводится строка `  (no zones)`.

## Пример

```
Plan version: 1.5-min-obj
Generated at: 2025-10-24T06:45:00Z
Ticker: NQ
  Zone 1 BUY 24500.00-24900.00 | SL 24400.00 | TP1 25000.00 | TP2 25100.00
    Invalid: 24400.00-24420.00
  Flip: 24700.00-24800.00
```

> Напоминание: таблица отображается моноширинным шрифтом, поэтому рекомендуемые отступы и выравнивание достигнуты за счёт пробелов.

